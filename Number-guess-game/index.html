<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Number Game</title>
</head>
<body>
    <h1>Number guess game</h1>
    <p>Guess the Number between 0 to 10</p>
    <form id="guessNumForm">
        <label for="num">Guess the number</label>
        <input type="number" name="num" id="num">
        <button type="submit" id="submitNum">Submit</button>
    </form>
    <div class="result"></div>


    <script>
        const frm = document.querySelector('#guessNumForm'), getNum = document.querySelector('#num'),
        submitBtn = document.querySelector('#submitNum'), maxAttempt = 3;
        let guessCount = 1, theNum = Math.floor(Math.random() * 10) + 1;
        frm.addEventListener('submit', (event) => {
            event.preventDefault();

            const numVal = getNum.value.trim(), result = document.querySelector('.result');

            if(theNum == numVal){
                result.innerHTML = "Congratulations!!! YOU GUESSED IT RIGHT IN " + guessCount + " GUESS"
            }else if(numVal < theNum && numVal >= 0){
                guessCount++;
                result.innerHTML = "Opps! Try again with greater Number"
            }else if(numVal > theNum && numVal <= 10){
                guessCount++;
                result.innerHTML = "Opps! Try again with smaller Number"
            }
            else{
                guessCount++;
                result.innerHTML = "Opps! The Number you have guessed is out of range"
            }

            if(guessCount > maxAttempt){
                result.innerHTML = "Opps! You have reached maximum attempt: " + maxAttempt;
                /*setTimeout(function(){
                    location.replace(location.href);
                }, 5000)*/
                setTimeout(() => {
                    getNum.value = '';
                    theNum = Math.floor(Math.random() * 10) + 1;
                    guessCount = 1;
                    result.innerHTML = "Start the game again"
                }, 3500)
                
            }

        })

    </script>
</body>
</html>